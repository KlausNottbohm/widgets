<!DOCTYPE html>
<html>
<head>
    <title>Corona data from RKI</title>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
        }

        th {
            text-align: left;
        }
    </style>
</head>
<body>
    <div id="Main">
        <div style="background-color:blanchedalmond; padding:15px">
            <input type="text" data-bind="value:mLocationString" />
            <button data-bind="click: onLocationClick">Get data</button>
            <button data-bind="click: onCurrentLocationClick">Get data for current location</button>
            <button data-bind="click:onShowJsonClick">Toggle JSON data</button>
        </div>

        <h3 data-bind="text: cityName"></h3>
        <div>
            <span>EinwohnerZahl</span>
            <span data-bind="text:myEinwohnerZahl()"></span>
        </div>        
        <div>
            <span>beds</span>
            <span data-bind="text:beds"></span>
        </div>
        <div>
            <span>freeBeds</span>
            <span data-bind="text:freeBeds"></span>
        </div>
        <div>
            <span>cases</span>
            <span data-bind="text:cases"></span>
        </div>
        <br />

        <table style="margin:10px">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Incidence</th>
                    <th>AnzahlFall</th>
                    <th>AnzahlTodesfall</th>
                    <th>SummeFall</th>
                    <th>SummeTodesfall</th>
                    <th>AnzahlGenesen</th>
                    <th>SummeGenesen</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: myCityDataWithIncidences">
                <tr data-bind="with:attributes">
                    <td data-bind="text: (new Date(Meldedatum)).toLocaleString('DE')"></td>
                    <td data-bind="text: Incidence"></td>
                    <td data-bind="text: AnzahlFall"></td>
                    <td data-bind="text: AnzahlTodesfall"></td>
                    <td data-bind="text: SummeFall"></td>
                    <td data-bind="text: SummeTodesfall"></td>
                    <td data-bind="text: AnzahlGenesen"></td>
                    <td data-bind="text: SummeGenesen"></td>
                </tr>
            </tbody>
        </table>

        <textarea rows="40" cols="80" data-bind="text: consoleText, visible: mShowJson"></textarea>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.debug.js"
            integrity="sha512-per7WBYe3cT9aIDMoF74rYR7wpEDPqyncWqWzBGmJBnhp8H3ZD5fRdTM16IO5ePUEuBlH9DMKF7rHvuazhvDBA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>
    <!-- jQuery, if needed
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->
 
    <script src="RKICoronaKO.js"></script>

    <!--<script>
        let myVM = new viewModel();
        ko.applyBindings(myVM);
    </script>-->
</body>
</html>
